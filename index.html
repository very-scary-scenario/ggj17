<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link href="https://fonts.googleapis.com/css?family=Rum+Raisin" rel="stylesheet"/>
    <title>Idol Threat</title>
    <link rel="stylesheet" href="style.css"/>
    <link rel="apple-touch-icon" href="icon.png" />

    <meta name="mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>

    <meta name="apple-mobile-web-app-status-bar-style" content="white"/>

    <script>
      var PARTS;
      var PART_INDEX;
      var BIOS;
      var QUOTES;
      var ABILITIES;
      var ANIMATIONS;
    </script>
  </head>
  <body>

    <section id="catalog">
    </section>

    <section id="unit">
    </section>

    <section id="idol-detail">
    </section>

    <section id="battle">
      <div id="main">
        <div id="battleArea">
          <div id="player">
            <span id="player-name"></span>
            <span class="DMG" id="playerDMG"></span><span class="HEAL" id="playerHEAL"></span>
            <div id="playerAnimationDiv">
              <div id="playerPortrait" class="battle-portrait"></div>
            </div>
          </div>
          <div id="enemy">
            <span id="enemy-name"></span>
            <span class="DMG" id="enemyDMG"></span><span class="HEAL" id="enemyHEAL"></span>
            <div id="enemyAnimationDiv">
              <div id="enemyPortrait" class="battle-portrait"></div>
            </div>
          </div>
        </div>
      </div>
      <div id="ui">
        <div><h4>Player health: <span id="playerHealth"></span></h4></div><!-- Mana: <span id="playerMana"></span> -->
        <div id="playerHealthbar"></div>
        <div><h4>Enemy health: <span id="enemyHealth"></span></h4></div>
        <div id="enemyHealthbar"></div>
        <div>
          <h3 id="promptText"></h3>
          <ul class="menu" id="commandList">
            <li class="wideLI"><button class="button" id="playerAttack1" onclick="playerAttack0()"></button></li>
            <li class="wideLI"><button class="button" id="playerAttack2" onclick="playerAttack1()"></button></li>
            <li class="wideLI"><button class="button" id="playerAttack3" onclick="playerAttack2()"></button></li>
            <li class="wideLI"><button class="button" id="playerAttack4" onclick="playerAttack3()"></button></li>
          </ul>
        </div>
      </div> 
    </section>

    <input type="file" accept="image/*" capture="camera" id="barcode-image"/>

    <script id="catalog-template" type="text/x-handlebars-template">
      <ul class="catalog">
        {{#each catalog}}
          <li data-index="{{@index}}" class="{{#if isInUnit}}active{{/if}}">
            <div class="portrait">
              {{{thumbSpriteHTML}}}
            </div>
            <div class="deets">
              <p class="name">{{name}}</p>
              <dl>
                <dt>Atk.</dt>
                <dd>{{attack}}</dd>
                <dt>Def.</dt>
                <dd>{{defense}}</dd>
                <dt>Spd.</dt>
                <dd>{{speed}}</dd>
                <dt>End.</dt>
                <dd>{{endurance}}</dd>
              </dl>
            </div>
            <div data-index="{{@index}}" class="input {{#if isInUnit}}checked{{/if}}"/>
          </li>
        {{/each}}
      </ul>
      
      <p><a href="#" class="needsclick" id="recruit">Scan a barcode to recruit a new member…</a></p>
      <p><a href="#" id="fight">Fight!</a></p>
    </script>

    <script id="idol-detail-template" type="text/x-handlebars-template">
      <div class="portrait">
        {{{spriteHTML}}}
      </div>
      <div class="summary bubble">
				<h2 class="name">{{name}}</h2>
        <div class="stats">
          <dl>
            <dt>Attack</dt>
            <dd>{{attack}}</dd>
            <dt>Defense</dt>
            <dd>{{defense}}</dd>
            <dt>Speed</dt>
            <dd>{{speed}}</dd>
            <dt>Endurance</dt>
            <dd>{{endurance}}</dd>
          </dl>
        </div>
        <div class="abilities">
          <ul>
            {{#each abilities}}<li>{{name}}</li>{{/each}}
          </ul>
        </div>
      </div>
      <div class="bubble bio">
        <p>{{bio}}</p>
        <blockquote>“{{quote}}”</blockquote>
      </div>
      <div class="bubble controls">
        <a class="close" href="#">close</p>
      </div>
    </script>

    <script id="unit-template" type="text/x-handlebars-template">
      <h2>Your unit</h2>
      <ul class="unit">
        {{#each unit}}
          <li>
            <div class="portrait">
              {{{thumbSpriteHTML}}}
            </div>
          </li>
        {{/each}}
      </ul>
    </script>

    <script id="sprite-template" type="text/x-handlebars-template">
      <div class="sprite">
        {{#each parts}}
          <img class="layer-{{layer}}" data-thumb="{{../thumb}}" src="{{#if ../thumb}}{{thumbPath}}{{else}}{{medPath}}{{/if}}"/>
        {{/each}}
      </div>
    </script>

    <script src="fastclick.js"></script>
    <script src="quagga.min.js"></script>
    <script src="handlebars.min.js"></script>
    <script src="parts.js"></script>
    <script src="battle.js"></script>
    <script src="game.js"></script>
  </body>
</html>
